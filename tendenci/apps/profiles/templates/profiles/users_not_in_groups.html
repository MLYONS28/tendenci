{% extends "profiles/base.html" %}
{% load profile_tags %}
{% load base_filters %}
{% load perm_tags %}
{% load i18n %}

{% block title %}Users not in Groups{% endblock %}

{% block extra_head %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/reports.css">
{% endblock %}

{% block body %}
{{ block.super }}
<div class="t">
    {% users_nav request.user request.user %}
    <h1>{% trans "Users not in Groups" %}</h1>
	<div class="profiles-wrap">

        {% if users %}
        <table class="table condensed-table table-hover">
        <thead>
            <td>
                <strong>ID</strong>
            </td>
            <td>
                Name
            </td>
            <td>
                Username
            </td>
            <td>
                Email
            </td>
        </thead>
            {% for user in users %}
                <tr>
                    <td>
                        <strong>{{ user.id }}</strong>
                    </td>
                    <td>
                        {% if user.profile.display_name %}
                            {{ user.profile.display_name }}
                        {% else %}
                            {{ user.first_name }} {{ user.last_name }}
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ user.profile.get_absolute_url }}">{{ user.username }}</a>
                    </td>
                    <td>
                        {{ user.email }}
                    </td>
                </tr>
            {% endfor %}
            </table>
        {% else %}
            <div>{% trans "No users not in groups found." %}</div>
        {% endif %}

        <div class="pagination">
            {% if has_previous %}
                <a href="?page={{ has_previous }}" class="prev">&lsaquo;&lsaquo; {% trans "previous" %}</a>
            {% else %}
                <span class="disabled prev">&lsaquo;&lsaquo; {% trans "previous" %}</span>
            {% endif %}
            {% for page in pages %}
                {% ifequal page current_page %}
                    <span class="current page">{{ page }}</span>
                {% else %}
                    <a href="?page={{ page }}" class="page">{{ page }}</a>
                {% endifequal %}
            {% endfor %}
            {% if has_next %}
                <a href="?page={{ has_next }}" class="next">{% trans "next" %} &rsaquo;&rsaquo;</a>
            {% else %}
                <span class="disabled next">{% trans "next" %} &rsaquo;&rsaquo;</span>
            {% endif %}
        </div>

    </div>
</div>
{% endblock %}
